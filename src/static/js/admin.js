!function(e){var t={};function n(l){if(t[l])return t[l].exports;var i=t[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(l,i,function(t){return e[t]}.bind(null,i));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=125)}({125:function(e,t,n){"use strict";temp.uploadAdmin='\n    <div class="upload-wrapper">\n        <h2>视频上传</h2>\n\n        <el-row>\n            <el-col :span="4">\n                <label>运动</label>\n            </el-col>\n\n            <el-col :span="10">\n                <el-select \n                :disabled="!videoEditable"\n                v-model="sport_id" \n                clearable \n                placeholder="请选择" \n                @change="handleChooseSport">\n                    <el-option\n                        v-for="item in sports"\n                        :key="item.id"\n                        :label="item.name"\n                        :value="item.id">\n                    </el-option>\n                </el-select>\n            </el-col>\n            \n            <el-button v-show="videoEditable" @click="newSportConfig.visibility=true" class="new-sport-btn">新建运动</el-button>\n        </el-row>\n\n        <el-row ng-show="sport_id">\n            <el-col :span="4">\n                <label>专辑</label>\n            </el-col>\n\n            <el-col :span="10">\n                <el-select \n                :disabled="!videoEditable"\n                v-model="SO.albumId" \n                clearable \n                placeholder="请选择" \n                @command="chooseAlbumHandler">\n                    <el-option\n                        v-for="item in albums"\n                        :key="item.id"\n                        :label="item.name"\n                        :value="item.id">\n                    </el-option>\n                </el-select>\n            </el-col>\n            \n            <el-button v-show="videoEditable" @click="openAlbumDialog();" class="new-album-btn">新建专辑</el-button>\n        </el-row>\n\n        <el-row v-if="selectedMaker">\n            <el-col :span="4">\n                <label>专辑作者</label>\n            </el-col>\n            <el-col :span="10">\n                <el-input v-model="selectedMaker" :disabled="!!selectedMaker" placeholder="请输入作者"></el-input>\n            </el-col>\n        </el-row>\n\n        <el-row>\n            <el-col :span="4">\n                <label>标题</label>\n            </el-col>\n\n            <el-col :span="10">\n                <el-input :disabled="!videoEditable" v-model="SO.headline" placeholder="请输入标题"></el-input>\n            </el-col>\n        </el-row>\n\n        <el-row>\n            <el-col :span="4">\n                <label>英文标题</label>\n            </el-col>\n\n            <el-col :span="10">\n                <el-input :disabled="!videoEditable" v-model="SO.headlineEng" placeholder="请输入英文标题"></el-input>\n            </el-col>\n        </el-row>\n\n        <el-row>\n            <el-col :span="4">\n                <label>标签</label>\n            </el-col>\n            <el-col :span="10">\n                <el-select v-model="SO.tag"\n                    :disabled="!videoEditable" \n                    clearable\n                    multiple\n                    filterable\n                    placeholder="请选择tag">\n                    <el-option\n                        v-for="item in tags"\n                        :key="item.id"\n                        :label="item.name"\n                        :value="item.id">\n                    </el-option>\n                </el-select>\n            </el-col>\n            \n            <el-button v-show="videoEditable" v-on:click="" @click="tagConfig.visibility = true" class="new-tag-btn">新建标签</el-button>\n        </el-row>\n\n        <el-row>\n            <el-col :span="4">\n                <label>视频</label>\n            </el-col>\n\n            <el-col :span="10">\n                <el-upload\n                    v-show="videoEditable"\n                    class="upload-demo"\n                    action="/upload"\n                    accept="video/*"\n                    :data="{type:\'video\'}"\n                    :on-preview="handlePreview"\n                    :on-remove="handleVideoRemove"\n                    :on-success="handleVideoSuccess"\n                    :before-upload="handleBeforeUpload"\n                    :limit="1"\n                    :on-exceed="handleExceed"\n                    :file-list="videoFileList"\n                    >\n                    <el-button size="small" type="primary">上传视频</el-button>\n                </el-upload>\n                <el-input v-show="!videoEditable" :value="vId+videoInfo.video_ext" disabled/>\n            </el-col>\n        </el-row>\n\n        <el-row>\n            <el-col :span="4">\n                <label>字幕</label>\n            </el-col>\n\n            <el-col :span="10">\n                <el-upload\n                    v-show="videoEditable"\n                    class="upload-demo"\n                    action="/upload"\n                    accept=".srt"\n                    :data="{type:\'subtitle\'}"\n                    :on-remove="handleSubtitleRemove"\n                    :on-success="handleSubtitleSuccess"\n                    :limit="1"\n                    :on-exceed="handleExceed"\n                    :file-list="subtitleFileList"\n                    >\n                    <el-button size="small" type="primary">上传字幕</el-button>\n                </el-upload>\n                <el-input v-show="!videoEditable" :value="vId+\'.srt\'" disabled/>\n            </el-col>\n        </el-row>\n\n        <el-row>\n            <el-col :span="4">&nbsp;</el-col>\n            <el-col :span="10">\n                <el-button v-show="videoEditable && (vId || SO.videoAbsPath)" v-on:click="vId?putVideo(): postVideo()" class="new-video-btn">提交</el-button>\n                <el-button v-show="!videoEditable" v-on:click="videoEditable=true;" class="new-video-btn">编辑</el-button>\n            </el-col>\n        </el-row>\n\n        <el-dialog v-bind:title="newSportConfig.title" :visible.sync="newSportConfig.visibility" @close="sId && (newSportConfig.visibility=true)">\n            <el-form class="newTagDialog">\n                <el-form-item label="运动名称">\n                    <el-input v-model="newSport.name" auto-complete="off"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot="footer" class="dialog-footer" v-show="!sId">\n                <el-button @click="newSportConfig.visibility = false">取 消</el-button>\n                <el-button type="primary" @click="newSportConfig.visibility = false; postSport();">确 定</el-button>\n            </div>\n\n            <div slot="footer" class="dialog-footer" v-show="sId">\n                <el-button type="primary" @click="newSportConfig.visibility = false; putSport()">确 定</el-button>\n                <el-button @click="backToSportList()">返 回</el-button>\n            </div>\n        </el-dialog>\n\n        <el-dialog v-bind:title="albumConfig.title" :visible.sync="albumConfig.visibility" @close="aId && (albumConfig.visibility = true)">\n            <el-form class="newAlbumDialog">\n                <el-form-item label="运动项目">\n                    <el-select v-model="newAlbum.sportId" \n                        :disabled="!albumEditable"\n                        clearable\n                        filterable\n                        placeholder="请选择">\n                        <el-option\n                            v-for="item in sports"\n                            :key="item.id"\n                            :label="item.name"\n                            :value="item.id">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label="制作者">\n                    <el-select v-model="newAlbum.maker" \n                        :disabled="!albumEditable"\n                        clearable\n                        filterable\n                        placeholder="请选择">\n                        <el-option\n                            v-for="item in makers"\n                            :key="item.id"\n                            :label="item.name"\n                            :value="item.id">\n                        </el-option>\n                    </el-select>\n                    <el-button @click="makerConfig.visibility=true" v-show="!aId || (aId && albumEditable)">创建</el-button>\n                </el-form-item>\n                <el-form-item label="标签">\n                    <el-select v-model="newAlbum.tag" \n                        :disabled="!albumEditable"\n                        clearable\n                        filterable\n                        placeholder="请选择">\n                        <el-option\n                            v-for="item in tags"\n                            :key="item.id"\n                            :label="item.name"\n                            :value="item.id">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label="专辑名称">\n                    <el-input v-model="newAlbum.name" :disabled="!albumEditable" auto-complete="off" style="width: 217px;"></el-input>\n                </el-form-item>\n                <el-form-item label="" v-if="!aId">\n                    <el-upload\n                        class="album-cover-uploader"\n                        action="/upload"\n                        :data="{type:\'img\'}"\n                        :on-remove="handleAlbumCoverRemove"\n                        :on-success="handleAlbumCoverSuccess"\n                        :limit="1"\n                        :on-exceed="handleExceed"\n                        :file-list="albumCoverfileList"\n                        >\n                        <el-button size="" type="primary">上传封面</el-button>\n                    </el-upload>\n                </el-form-item>\n                <el-form-item label="" v-if="aId">\n                    <el-upload\n                        v-show="albumEditable"\n                        class="album-cover-uploader"\n                        action="/upload"\n                        :data="{type:\'img\'}"\n                        :on-remove="handleAlbumCoverRemove"\n                        :on-success="handleAlbumCoverSuccess"\n                        :limit="1"\n                        :on-exceed="handleExceed"\n                        :file-list="albumCoverfileList"\n                        >\n                        <el-button size="" type="primary">上传封面</el-button>\n                    </el-upload>\n                    <img v-show="!albumEditable" :src="\'/img/cover/album/\' + aId + \'.jpg\'"/>\n                </el-form-item>\n            </el-form>\n            <div slot="footer" class="dialog-footer" v-show="!aId">\n                <el-button @click="albumConfig.visibility = false">取 消</el-button>\n                <el-button type="primary"  @click="albumConfig.visibility = false; postAlbum();">确 定</el-button>\n            </div>\n\n            <div slot="footer" class="dialog-footer" v-show="aId">\n                <el-button type="primary" v-show="albumEditable" @click="albumConfig.visibility = false; putAlbum()">确 定</el-button>\n                <el-button type="primary" @click="albumEditable=true" v-show="!albumEditable">编辑</el-button>\n                <el-button @click="backToAlbumList()">返 回</el-button>\n            </div>\n        </el-dialog>\n\n        <el-dialog v-bind:title="tagConfig.title" :visible.sync="tagConfig.visibility">\n            <el-form class="newTagDialog">\n                <el-form-item label="标签名称">\n                    <el-input v-model="newTag.name" auto-complete="off"></el-input>\n                </el-form-item>\n                <el-form-item label="运动项目">\n                    <el-select v-model="newTag.sportId" \n                        clearable\n                        filterable\n                        placeholder="请选择">\n                        <el-option\n                            v-for="item in sports"\n                            :key="item.id"\n                            :label="item.name"\n                            :value="item.id">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n            </el-form>\n            <div slot="footer" class="dialog-footer">\n                <el-button @click="tagConfig.visibility = false">取 消</el-button>\n                <el-button type="primary" @click="tagConfig.visibility = false; postTag();">确 定</el-button>\n            </div>\n        </el-dialog>\n\n        <el-dialog v-bind:title="makerConfig.title" :visible.sync="makerConfig.visibility">\n            <el-form class="newTagDialog">\n                <el-form-item label="名字">\n                    <el-input v-model="newMaker.name" auto-complete="off"></el-input>\n                </el-form-item>\n                <el-form-item label="描述">\n                    <el-input v-model="newMaker.desc" type="textarea" style="width: 300px;"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot="footer" class="dialog-footer">\n                <el-button @click="makerConfig.visibility = false">取 消</el-button>\n                <el-button type="primary" @click="makerConfig.visibility = false; postMaker();">确 定</el-button>\n            </div>\n        </el-dialog>\n    </div>\n',COMPONENTS.UploadAdmin={props:["vId","aId","sId"],data:function(){var e={sport_id:null,SO:{albumId:"",headline:"",headlineEng:"",tag:"",videoAbsPath:"",subtitleAbsPath:""},albums:[],tags:[],sports:[],makers:[],newSportConfig:{visibility:!1,title:"新建运动"},tagConfig:{visibility:!1,title:"新建标签"},albumConfig:{visibility:!1,title:"新建专辑"},makerConfig:{visibility:!1,title:"新建制作者"},newSport:{},newTag:{},newAlbum:{sportId:"",maker:"",tag:"",name:"",cover:""},newMaker:{},selectedMaker:"",videoInfo:{},sportInfo:{},videoEditable:!0,albumEditable:!0,videoFileList:[],subtitleFileList:[],albumCoverfileList:[]};return this.vId?e.videoEditable=!1:this.aId?e.albumEditable=!1:this.sId&&(e.newSportConfig={title:"编辑运动",visibility:!0}),e.fileList=[],e},methods:{backToAlbumList:function(){location.href="#/albumsAdmin"},backToSportList:function(){location.href="#/sportsAdmin"},handleVideoRemove:function(e,t){this.SO.videoAbsPath=""},handleSubtitleRemove:function(e,t){this.SO.subtitleAbsPath=""},handleAlbumCoverRemove:function(e,t){this.newAlbum.cover=""},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("只能传一个文件")},handleVideoSuccess:function(e){this.SO.videoAbsPath=e.absPath},handleBeforeUpload:function(e){this.SO.headlineEng=e.name.split(/\./).shift(),console.log(arguments)},handleSubtitleSuccess:function(e){this.SO.subtitleAbsPath=e.absPath},handleAlbumCoverSuccess:function(e){this.newAlbum.cover=e.relPath},handleChooseSport:function(e){e&&this.queryAlbums(e)},postVideo:function(){var e=Object.assign({},this.SO);e.tag=this.SO.tag.join(","),tools.xhr("/video",function(){this.vId;var e="视频"+(this.vId?"更新":"创建")+"成功";this.$message({message:e,type:"success"}),this.SO.videoAbsPath="",this.SO.subtitleAbsPath="",this.videoFileList=[],this.subtitleFileList=[]}.bind(this),"post",e)},postSport:function(){tools.xhr("/sport",function(){this.$message({message:"新建成功",type:"success"}),this.querySports()}.bind(this),"post",this.newSport)},postTag:function(){tools.xhr("/tag",function(){this.queryTags()}.bind(this),"post",this.newTag)},postMaker:function(){tools.xhr("/maker",function(){console.log(arguments),this.$message({message:"制作者创建成功",type:"success"}),this.queryMakers()}.bind(this),"post",this.newMaker)},openAlbumDialog:function(){this.albumConfig.visibility=!0,this.queryMakers()},postAlbum:function(){tools.xhr("/album",function(){this.$message({message:"专辑创建成功",type:"success"}),this.queryAlbums(this.sport_id)}.bind(this),"post",this.newAlbum)},queryAlbums:function(e){e&&tools.xhr("/sports/"+e+"/albums",function(e){this.albums=e}.bind(this))},queryTags:function(){tools.xhr("/tags",function(e){this.tags=e}.bind(this))},querySports:function(){tools.xhr("/sports",function(e){this.sports=e}.bind(this))},queryMakers:function(){tools.xhr("/makers",function(e){this.makers=e}.bind(this))},chooseAlbumHandler:function(){console.log("chooseAlbumHandler",arguments)},queryMaker:function(e){tools.xhr("/maker/"+e,function(e){var t=e[0];this.selectedMaker=t?e[0].name:""}.bind(this))},fetchVideoInfo:function(e){tools.xhr("/videoInfo/"+this.vId,function(t){this.videoInfo=t,this.sport_id=t.sport_id,this.SO.albumId=t.album_id,this.SO.headline=t.headline,this.SO.headlineEng=t.headline_eng,this.SO.tag=t.tag?t.tag.split(",").map(function(){return Number(arguments[0])}):[],e&&e(t.sport_id)}.bind(this))},fetchAlbumInfo:function(){tools.xhr("/albumInfo/"+this.aId,function(e){this.newAlbum.sportId=e.sport_id,this.newAlbum.maker=Number(e.author_id),this.newAlbum.tag=Number(e.tag),this.newAlbum.name=e.name}.bind(this))},fetchSportInfo:function(){tools.xhr("/sportInfo/"+this.sId,function(e){this.newSport.name=e.name}.bind(this))},putVideo:function(){var e=Object.assign({},this.SO);e.tag=this.SO.tag.join(","),tools.xhr("/video/"+this.vId,function(){console.log(arguments),this.$message({message:"视频更新成功",type:"success"}),this.videoEditable=!1,this.SO.videoAbsPath="",this.SO.subtitleAbsPath="",this.videoFileList=[],this.subtitleFileList=[]}.bind(this),"put",e,function(){this.SO.subtitleAbsPath="",this.SO.videoAbsPath=""})},putAlbum:function(){tools.xhr("/album/"+this.aId,function(){this.$message({message:"更新成功",type:"success"}),this.albumEditable=!1,location.href="#/albumsAdmin"}.bind(this),"put",this.newAlbum,function(){this.$message({message:"更新出错",type:"success"})})},putSport:function(){tools.xhr("/sport/"+this.sId,function(){this.$message({message:"更新成功",type:"success"}),location.href="#/sportsAdmin"}.bind(this),"put",this.newSport,function(){this.$message({message:"更新出错",type:"success"})})}},mounted:function(){tools.togglePageIE(this),this.vId?this.fetchVideoInfo(function(e){this.queryAlbums(e)}.bind(this)):this.aId?(this.fetchAlbumInfo(),this.queryMakers(),this.albumConfig.visibility=!0,this.albumConfig.title="更新专辑"):this.sId&&this.fetchSportInfo(),this.querySports(),this.queryTags()},template:temp.uploadAdmin},routeConfig.push({path:"/uploadAdmin",component:COMPONENTS.UploadAdmin,props:function(e){return{vId:e.query.vId,aId:e.query.aId,sId:e.query.sId}}}),temp.feedbacksAdmin='\n    <div>\n        <h2>反馈列表</h2>\n\n        <el-table\n        :data="feedbacks"\n        style="width: 100%">\n            <el-table-column\n                prop="id"\n                label="编号">\n            </el-table-column>\n            <el-table-column\n                prop="ip"\n                label="ip">\n            </el-table-column>\n            <el-table-column\n                prop="usr_id"\n                label="用户id">\n            </el-table-column>\n            <el-table-column\n                prop="description"\n                label="描述">\n            </el-table-column>\n            <el-table-column\n                prop="site"\n                label="网址">\n            </el-table-column>\n            <el-table-column\n                prop="wechat"\n                label="微信">\n            </el-table-column>\n            <el-table-column\n                prop="email"\n                label="邮件">\n            </el-table-column>\n            <el-table-column\n                prop="files"\n                label="文件">\n            </el-table-column>\n            <el-table-column\n                fixed="right"\n                label="操作"\n                width="100">\n                <template slot-scope="scope">\n                    <el-button @click="deleteFeedback(scope.row.id)" type="text" size="small">删除</el-button>\n                    <el-button v-if="!scope.row.black_usr_id_record && !scope.row.black_ip_record" @click="blockUsr(scope.row.ip, scope.row.usr_id, $event)" type="text" size="small">加黑</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-pagination\n            layout="prev, pager, next"\n            :total="total"\n            :page-size="pageSize"\n            @current-change="fetchFeedbacks">\n        </el-pagination>\n    </div>\n',COMPONENTS.FeedbacksAdmin={data:function(){return{pageSize:10,curPage:0,total:0,feedbacks:[]}},methods:{postTag:function(){tools.xhr("/tag",function(){console.log(arguments)},"post",this.newTag)},fetchFeedbacks:function(e){tools.xhr("/feedbacks",function(t){this.feedbacks=t.datalist,this.total=t.total,this.curPage=e}.bind(this),"get",{pageNum:e-1,pageSize:this.pageSize})},deleteFeedback:function(e){this.$confirm("确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){tools.xhr("/feedback/"+e,function(e){this.fetchFeedbacks(this.curPage),this.$message({message:"删除成功",type:"success"})}.bind(this),"delete")}.bind(this)).catch(function(){})},blockUsr:function(e,t,n){this.$confirm("确认加黑？").then(function(){tools.xhr("/blockedUsr",function(e){this.$message({message:"加黑成功",type:"success"})}.bind(this),"post",{ip:e,usrId:t})}.bind(this)).catch(function(){})}},template:temp.feedbacksAdmin,mounted:function(){tools.togglePageIE(this),this.fetchFeedbacks(1)}},routeConfig.push({path:"/feedbacksAdmin",component:COMPONENTS.FeedbacksAdmin}),temp.videosAdmin='\n    <div>\n        <h2>视频列表</h2>\n\n        <el-table\n        :data="videos"\n        style="width: 100%">\n            <el-table-column\n                prop="id"\n                label="id">\n            </el-table-column>\n            \n            <el-table-column\n                prop="album_id"\n                label="album_id">\n            </el-table-column>\n            <el-table-column\n                prop="headline"\n                label="headline">\n            </el-table-column>\n            <el-table-column\n                prop="tag"\n                label="tag">\n            </el-table-column>\n\n            <el-table-column\n                fixed="right"\n                label="操作"\n                width="200">\n                <template slot-scope="scope">\n                    <el-button @click="patchVideo(scope.row.id)" type="text" size="small">更新</el-button>\n                    <el-button @click="deleteVideo(scope.row.id)" type="text" size="small">删除</el-button>\n                    <el-button @click="redirect(scope.row.id)" type="text" size="small">查看</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-pagination\n            layout="prev, pager, next"\n            :total="total"\n            :page-size="pageSize"\n            @current-change="fetchVideos">\n        </el-pagination>\n    </div>\n',COMPONENTS.VideosAdmin={data:function(){return{pageSize:10,curPage:0,total:0,videos:[]}},methods:{fetchVideos:function(e){tools.xhr("/pageVideos",function(t){this.videos=t.datalist,this.total=t.total,this.curPage=e}.bind(this),"get",{pageNum:e-1,pageSize:this.pageSize})},patchVideo:function(e){location.href="#/uploadAdmin?vId="+e},deleteVideo:function(e){this.$confirm("确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){tools.xhr("/video/"+e,function(e){this.fetchVideos(this.curPage),this.$message({message:"删除成功",type:"success"})}.bind(this),"delete")}.bind(this)).catch(function(){})},redirect:function(e){location.href="#/videos/"+e}},template:temp.videosAdmin,mounted:function(){tools.togglePageIE(this),this.fetchVideos(1)}},routeConfig.push({path:"/videosAdmin",component:COMPONENTS.VideosAdmin}),temp.albumsAdmin='\n    <div>\n        <h2>专辑列表</h2>\n\n        <el-table\n        :data="albums"\n        style="width: 100%">\n            <el-table-column\n                prop="id"\n                label="id">\n            </el-table-column>\n            \n            <el-table-column\n                prop="sport_id"\n                label="运动">\n            </el-table-column>\n            <el-table-column\n                prop="author_id"\n                label="制作者编号">\n            </el-table-column>\n            <el-table-column\n                prop="name"\n                label="标题">\n            </el-table-column>\n            <el-table-column\n                prop="tag"\n                label="标签">\n            </el-table-column>\n            <el-table-column\n                prop="impression"\n                label="观看次数">\n            </el-table-column>\n            <el-table-column\n                prop="update_time"\n                label="更新时间">\n            </el-table-column>\n\n            <el-table-column\n                fixed="right"\n                label="操作"\n                width="200">\n                <template slot-scope="scope">\n                    <el-button @click="patchAlbum(scope.row.id)" type="text" size="small">更新</el-button>\n                    <el-button @click="deleteAlbum(scope.row.id)" type="text" size="small">删除</el-button>\n                    <el-button @click="redirect(scope.row.id)" type="text" size="small">查看</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-pagination\n            layout="prev, pager, next"\n            :total="total"\n            :page-size="pageSize"\n            @current-change="fetchAlbums">\n        </el-pagination>\n    </div>\n',COMPONENTS.AlbumsAdmin={data:function(){return{pageSize:10,curPage:0,total:0,albums:[]}},methods:{fetchAlbums:function(e){tools.xhr("/albums",function(t){this.albums=t.datalist,this.total=t.total,this.curPage=e}.bind(this),"get",{pageNum:e-1,pageSize:this.pageSize})},patchAlbum:function(e){location.href="#/uploadAdmin?aId="+e},deleteAlbum:function(e){this.$confirm("确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){tools.xhr("/album/"+e,function(e){this.fetchAlbums(this.curPage),this.$message({message:"删除成功",type:"success"})}.bind(this),"delete")}.bind(this)).catch(function(){})},redirect:function(e){location.href="#/albums/"+e}},template:temp.albumsAdmin,mounted:function(){tools.togglePageIE(this),this.fetchAlbums(1)}},routeConfig.push({path:"/albumsAdmin",component:COMPONENTS.AlbumsAdmin}),temp.sportsAdmin='\n    <div>\n        <h2>运动列表</h2>\n\n        <el-table\n        :data="sports"\n        style="width: 100%">\n            <el-table-column\n                prop="id"\n                label="id">\n            </el-table-column>\n            \n            <el-table-column\n                prop="name"\n                label="名称">\n            </el-table-column>\n\n            <el-table-column\n                prop="impression"\n                label="观看次数">\n            </el-table-column>\n\n            <el-table-column\n                prop="update_time"\n                label="更新时间">\n            </el-table-column>\n\n            <el-table-column\n                fixed="right"\n                label="操作"\n                width="200">\n                <template slot-scope="scope">\n                    <el-button @click="patchSport(scope.row.id)" type="text" size="small">更新</el-button>\n                    <el-button @click="deleteSport(scope.row.id)" type="text" size="small">删除</el-button>\n                    <el-button @click="redirect(scope.row.id)" type="text" size="small">查看</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-pagination\n            layout="prev, pager, next"\n            :total="total"\n            :page-size="pageSize"\n            @current-change="fetchSports">\n        </el-pagination>\n    </div>\n',COMPONENTS.SportsAdmin={data:function(){return{pageSize:10,curPage:0,total:0,sports:[]}},methods:{fetchSports:function(e){tools.xhr("/sports",function(t){this.sports=t.datalist,this.total=t.total,this.curPage=e}.bind(this),"get",{pageNum:e-1,pageSize:this.pageSize})},patchSport:function(e){location.href="#/uploadAdmin?sId="+e},deleteSport:function(e){this.$confirm("确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){tools.xhr("/sport/"+e,function(e){this.fetchSports(this.curPage),this.$message({message:"删除成功",type:"success"})}.bind(this),"delete")}.bind(this)).catch(function(){})},redirect:function(e){location.href="#/sports/"+e}},template:temp.sportsAdmin,mounted:function(){tools.togglePageIE(this),this.fetchSports(1)}},routeConfig.push({path:"/sportsAdmin",component:COMPONENTS.SportsAdmin})}});